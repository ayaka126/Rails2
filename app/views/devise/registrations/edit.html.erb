<h2>アカウント編集</h2>

<% if flash[:notice] %>
    <p class = "notice"><%= flash[:notice] %></p>
<% end%>

<%= render "shared/error", obj: @user %>

<%= form_with model: @user, url: user_registration_path do |f| %>
    <table class = "account-edit">
        <tr>
            <td><%= f.hidden_field :user_id, value: current_user.id %></td>
        </tr>
        <tr>
            <th><%= f.label :email ,"メールアドレス" %></th>
            <td><%= f.text_field :email %></td>
        </tr>
        <tr>
          <th><%= f.label :password %> <i>(変更する場合のみ)</i></th>
          <td><%= f.password_field :password, autocomplete: "new-password" %></td>
        <tr>
          <th><%= f.label :password_confirmation %></th>
          <td><%= f.password_field :password_confirmation, autocomplete: "new-password" %></td>
        </tr>
        <tr>
          <th><%= f.label :current_password %> <i>(変更を保存するためにご入力ください)</i></th>
          <td><%= f.password_field :current_password, autocomplete: "current-password" %></td>
        </tr>
    </table>

    <div class = "buttons">
        <%= link_to "キャンセル", :users %>
        <%= f.submit "編集を保存する" %>
    </div>
<% end %>

<%= button_to "アカウント削除", registration_path(resource_name), data: { confirm: "本当に削除しますか?", turbo_confirm: "本当に削除しますか?" }, method: :delete %></div>
<%= link_to "戻る", :back %>
